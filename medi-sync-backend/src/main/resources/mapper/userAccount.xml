<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mediSync.project.mapper.UserAccountMapper">

    <!-- 계정 등록 -->
    <insert id="insertUser" parameterType="user" useGeneratedKeys="true" keyProperty="userId">
        INSERT INTO user_account (
        login_id, password, name, phone, role, created_at
        ) VALUES (
        #{loginId}, #{password}, #{name}, #{phone}, 'USER', NOW())
    </insert>

    <!-- 전체 계정 목록 조회 -->
    <select id="selectAllUser" resultType="user">
        SELECT * FROM user_account
    </select>

    <!-- 계정 선택 조회 -->
    <select id="selectUserById" parameterType="Long" resultType="user">
        SELECT * FROM user_account WHERE user_id = #{userId}
    </select>

    <!-- 계정 정보 수정 -->
    <update id="updateUser" parameterType="Long">
        UPDATE user_account
        SET name = #{name}, phone = #{phone}
        WHERE user_id = #{userId}
    </update>

    <!-- 계정 삭제 -->
    <delete id="deleteUser" parameterType="Long">
        DELETE FROM user_account
        WHERE user_id = #{userId}
    </delete>

</mapper>
